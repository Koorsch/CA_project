---
const {variant, headerText, copy, buttonText, imgSrc, imgAlt, buttonVariant, hasButton, isImg, isVideo, videoSrc} = Astro.props;
import Button from '../components/Button.astro';
---

<section data-variant={variant}>
	<div class="imgBox">
		{isImg && <img src={`media/image/${imgSrc}`} alt={imgAlt}/>}
		{isVideo && <video src={`media/video/${videoSrc}`} muted controls></video>}
	</div>
	<div class="textBox">
		<h2>{headerText}</h2>
		<p>{copy}</p>
		{hasButton && <Button buttonVariant={buttonVariant} buttonText={buttonText}/>}

	</div>
</section>

<style>
	section {
		width: 100%;
		padding: 0.5rem;
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
	.textBox {
		display: grid;
		grid-template-rows: repeat(auto-fill, minmax(auto, 1fr));
		padding: 1rem;
		gap: 1rem;
	}
	.imgBox {
		align-items: center;
		justify-content: center;
		& img {
			height: 100%;
			width: 100%;
			object-fit: fill;
			padding: 1rem;
		}
		& video {
			height: 100%;
			width: 100%;
			object-fit: fill;
			aspect-ratio: 16/9;
		}
	}
	[data-variant="imgLeft"] {
		background-color: var(--ca_supp_llbeige);
		& div:first-of-type {
			order: -1;
		}
	}
	[data-variant="imgRight"] {
		background-color: var(--ca_supp_lbeige);
		& div:first-of-type {
			order: 1;
		}
	}
	@media (max-width: 768px) {
		section {
			grid-template-columns: 1fr;
			& div {
				order: 1;
			}
		}
	}
</style>